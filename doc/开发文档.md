# 资源管理系统1.0设计文档
## 一、数据库更改
```sql
CREATE TABLE IF NOT EXISTS `job` (
    `job_id` BIGINT NOT NULL AUTO_INCREMENT COMMENT "任务id",
    `job_name` VARCHAR(100) NOT NULL COMMENT "任务名称",
    `job_condition` TEXT NOT NULL COMMENT "任务搜索条件（不同类型搜索条件不同）",
    `job_status` TINYINT NOT NULL DEFAULT 0 COMMENT "任务的状态",
    `job_result` VARCHAR(100) COMMENT "任务的结果",
    `job_operator` VARCHAR(100) NOT NULL COMMENT "任务的操作者",
    `job_operate_time` DATETIME NOT NULL COMMENT "操作的时间",
    `job_start_time` DATETIME NOT NULL COMMENT "开始的时间",
    `job_effct_time` DATETIME NOT NULL COMMENT "有效的时间",
    `job_retry_count` INTEGER DEFAULT 0 NOT NULL COMMENT "重试的次数",
    `job_is_abort` INTEGER DEFAULT 0 NOT NULL COMMENT "是否过期",
    `job_type` TINYINT NOT NULL COMMENT "任务类型",
    `resource_id` BIGINT COMMENT "资源的ID",
    PRIMARY KEY (`job_id`)
) ENGINE=InnoDB COMMENT="后台任务记录";
```
```sql
CREATE TABLE IF NOT EXISTS `user` (
    `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT "id",
    `name` VARCHAR(100) NOT NULL COMMENT "用户",
    `role` TINYINT NOT NULL DEFAULT 0 COMMENT "用户的角色",
    `department` VARCHAR(100) COMMENT "学院",
    `major` VARCHAR(100) COMMENT "专业",
    `number` VARCHAR(100) COMMENT "学号或教师号",
    PRIMARY KEY (`id`)
) ENGINE=InnoDB COMMENT="用户表";
```
```sql
CREATE TABLE IF NOT EXISTS `resource` (
    `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT "id",
    `name` VARCHAR(100) NOT NULL COMMENT "资源名",
    `description` VARCHAR(300) COMMENT "资源描述",
    `amount` BIGINT DEFAULT 0 NOT NULL COMMENT "资源的数量",
    `effect_start_time` DATETIME NOT NULL COMMENT "有效期开始时间",
    `effect_end_time` DATETIME NOT NULL COMMENT "有效期结束时间",
    PRIMARY KEY (`id`)
) ENGINE=InnoDB COMMENT="物资";
```
```sql
CREATE TABLE IF NOT EXISTS `campus_news` (
    `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT "id",
    `name` VARCHAR(100) NOT NULL COMMENT "用户",
    `img_url` VARCHAR(200) COMMENT "图片的url",
    `forward_url` VARCHAR(200) COMMENT "跳转的url",
    PRIMARY KEY (`id`)
) ENGINE=InnoDB COMMENT="校园新闻";
```
```sql
CREATE TABLE IF NOT EXISTS `reimbursement` (
    `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT "id",
    `user_id` BIGINT NOT NULL COMMENT "报销用户的ID",
    `reimbursement_type` TINYINT NOT NULL COMMENT "报销类型",
    `event` VARCHAR(100) NOT NULL COMMENT "报销的具体事宜",
    `pay_way` TINYINT NOT NULL COMMENT "支付的方式",
    `pay_detail` VARCHAR(100) NOT NULL COMMENT "支付的具体信息",
    `prove_type` TINYINT NOT NULL COMMENT "证明材料类型",
    `prove_detail` TEXT NOT NULL COMMENT "证明材料的具体信息",
    `event_start_time` DATETIME COMMENT "具体的时间点",
    `event_end_time` DATETIME COMMENT "具体的时间点",
    PRIMARY KEY (`id`)
) ENGINE=InnoDB COMMENT="报销";
```